<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FrozenChef - ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ó‡∏≥</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Kanit', sans-serif; }
        
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(20px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        
        .slide-up { animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { 
            from { transform: translateY(100%); opacity: 0; } 
            to { transform: translateY(0); opacity: 1; } 
        }
        
        .bounce-in { animation: bounceIn 0.6s ease-out; }
        @keyframes bounceIn { 
            0% { transform: scale(0.3); opacity: 0; } 
            50% { transform: scale(1.05); } 
            70% { transform: scale(0.9); } 
            100% { transform: scale(1); opacity: 1; } 
        }
        
        .menu-item { transition: all 0.3s ease; }
        .menu-item:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        
        .order-card { 
            transition: all 0.3s ease; 
            border-left: 4px solid transparent;
        }
        .order-card:hover { transform: translateY(-2px); }
        .order-card.pending { border-left-color: #f59e0b; }
        .order-card.preparing { border-left-color: #2563eb; }
        .order-card.delivering { border-left-color: #7c3aed; }
        .order-card.completed { border-left-color: #059669; }
        
        .status-pending { background: linear-gradient(135deg, #fbbf24, #f59e0b); }
        .status-preparing { background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .status-delivering { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
        .status-completed { background: linear-gradient(135deg, #10b981, #059669); }
        
        .notification-toast {
            animation: slideInRight 0.5s ease-out;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 bounce-in">
            <div class="text-center mb-6">
                <div class="text-6xl mb-4">üîê</div>
                <h2 class="text-2xl font-bold text-gray-800">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
                <p class="text-gray-600 mt-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
            </div>
            
            <div class="space-y-4">
                <button onclick="loginAsCustomer()" class="w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white py-4 rounded-xl hover:from-orange-500 hover:to-orange-600 transition-all font-semibold text-lg">
                    üë• ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
                </button>
                
                <div class="border-t pt-4">
                    <input type="password" id="ownerPassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none mb-3">
                    <button onclick="loginAsOwner()" class="w-full bg-gradient-to-r from-blue-400 to-blue-500 text-white py-4 rounded-xl hover:from-blue-500 hover:to-blue-600 transition-all font-semibold text-lg">
                        üë®‚Äçüíº ‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Customer Interface -->
    <div id="customerInterface" class="hidden">
        <!-- Header -->
        <header class="bg-white shadow-lg sticky top-0 z-40">
            <div class="container mx-auto px-4 py-4">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl">üçΩÔ∏è</div>
                        <div>
                            <h1 class="text-2xl md:text-3xl font-bold text-orange-600" id="customerRestaurantName">FrozenChef</h1>
                            <p class="text-gray-600 text-sm">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ó‡∏≥</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <button onclick="showMyOrders()" class="relative bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                            üìã ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
                            <span id="myOrdersBadge" class="hidden absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                        </button>
                        <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">
                            üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Menu Section -->
        <main class="container mx-auto px-4 py-6">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">üßä ‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠</h2>
                <div id="customerMenuList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                
                <div id="noMenuCustomer" class="text-center py-12">
                    <div class="text-6xl mb-4">üßä</div>
                    <p class="text-gray-500 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π</p>
                    <p class="text-gray-400 text-sm mt-2">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Owner Interface -->
    <div id="ownerInterface" class="hidden">
        <!-- Header -->
        <header class="bg-white shadow-lg sticky top-0 z-40">
            <div class="container mx-auto px-4 py-4">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl">üë®‚Äçüíº</div>
                        <div>
                            <h1 class="text-2xl md:text-3xl font-bold text-blue-600">‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô</h1>
                            <p class="text-gray-600 text-sm">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô <span id="ownerRestaurantName">‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏£‡πà‡∏≠‡∏¢</span></p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="flex items-center space-x-2 bg-green-100 px-3 py-2 rounded-lg">
                            <span class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></span>
                            <span class="text-green-800 text-sm font-semibold">Online</span>
                        </div>
                        <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">
                            üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Stats Cards -->
        <div class="container mx-auto px-4 py-6">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-gradient-to-r from-green-400 to-green-500 text-white rounded-2xl p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-green-100 text-sm">‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
                            <p class="text-3xl font-bold" id="todaySales">0 ‡∏ø</p>
                        </div>
                        <div class="text-4xl opacity-80">üí∞</div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-blue-400 to-blue-500 text-white rounded-2xl p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-blue-100 text-sm">‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
                            <p class="text-3xl font-bold" id="todayOrders">0</p>
                        </div>
                        <div class="text-4xl opacity-80">üìã</div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-orange-400 to-orange-500 text-white rounded-2xl p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-orange-100 text-sm">‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</p>
                            <p class="text-3xl font-bold" id="pendingOrders">0</p>
                        </div>
                        <div class="text-4xl opacity-80">‚è≥</div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-purple-400 to-purple-500 text-white rounded-2xl p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-purple-100 text-sm">‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                            <p class="text-3xl font-bold" id="totalMenuItems">0</p>
                        </div>
                        <div class="text-4xl opacity-80">üçΩÔ∏è</div>
                    </div>
                </div>
            </div>

            <!-- Tabs -->
            <div class="bg-white rounded-2xl shadow-lg mb-6">
                <div class="flex flex-wrap border-b">
                    <button id="ordersTab" class="tab-button active flex-1 md:flex-none px-8 py-4 font-semibold bg-blue-50 text-blue-600 border-b-2 border-blue-600" onclick="showTab('orders')">
                        üìã ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå (<span id="orderCount">0</span>)
                    </button>
                    <button id="menuTab" class="tab-button flex-1 md:flex-none px-8 py-4 font-semibold text-gray-600 hover:bg-gray-50" onclick="showTab('menu')">
                        üçΩÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π
                    </button>
                    <button id="settingsTab" class="tab-button flex-1 md:flex-none px-8 py-4 font-semibold text-gray-600 hover:bg-gray-50" onclick="showTab('settings')">
                        ‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡πâ‡∏≤‡∏ô
                    </button>
                </div>
            </div>

            <!-- Orders Tab -->
            <div id="ordersContent" class="tab-content">
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">üìã ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h2>
                    
                    <div id="ordersList" class="space-y-4">
                        <!-- ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                    </div>
                    
                    <div id="noOrders" class="text-center py-12">
                        <div class="text-6xl mb-4">üìã</div>
                        <p class="text-gray-500 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</p>
                        <p class="text-gray-400 text-sm mt-2">‡∏£‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£...</p>
                    </div>
                </div>
            </div>

            <!-- Menu Tab -->
            <div id="menuContent" class="tab-content hidden">
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">üçΩÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π</h2>
                        <button type="button" onclick="openAddMenuModal()" class="bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors font-semibold">
                            ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </div>
                    
                    <div id="ownerMenuList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                    </div>
                    
                    <div id="noMenuOwner" class="text-center py-12">
                        <div class="text-6xl mb-4">üçΩÔ∏è</div>
                        <p class="text-gray-500 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π</p>
                        <p class="text-gray-400 text-sm mt-2">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settingsContent" class="tab-content hidden">
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡πâ‡∏≤‡∏ô</h2>
                    
                    <div class="max-w-md">
                        <div class="mb-6">
                            <label class="block text-gray-700 font-semibold mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô</label>
                            <input type="text" id="restaurantNameInput" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô">
                        </div>
                        
                        <button onclick="updateRestaurantSettings()" class="bg-blue-500 text-white px-6 py-3 rounded-xl hover:bg-blue-600 transition-colors font-semibold">
                            üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-gray-800">üõí ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
                    <button onclick="closeCheckout()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                </div>
            </div>
            
            <div class="p-6">
                <!-- Order Summary -->
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-4">üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>
                    <div id="checkoutItems" class="space-y-2 mb-4">
                        <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                    </div>
                    <div class="border-t pt-4">
                        <div class="flex justify-between text-xl font-bold text-green-600">
                            <span>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</span>
                            <span id="checkoutTotal">0 ‡∏ø</span>
                        </div>
                    </div>
                </div>

                <!-- Customer Info -->
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-4">üë§ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <input type="text" id="customerName" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" class="p-3 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none" required>
                        <input type="tel" id="customerPhone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå" class="p-3 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none" required>
                    </div>
                    <textarea id="customerAddress" placeholder="‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏™‡πà‡∏á" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none mt-4" rows="3" required></textarea>
                </div>

                <!-- Payment Method -->
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-4">üí≥ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h3>
                    <div class="space-y-3">
                        <label class="flex items-center space-x-3 p-3 border-2 border-gray-200 rounded-xl hover:border-blue-400 cursor-pointer">
                            <input type="radio" name="paymentMethod" value="cash" class="text-blue-600">
                            <span class="text-2xl">üíµ</span>
                            <span>‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á</span>
                        </label>
                        <label class="flex items-center space-x-3 p-3 border-2 border-gray-200 rounded-xl hover:border-blue-400 cursor-pointer">
                            <input type="radio" name="paymentMethod" value="transfer" class="text-blue-600">
                            <span class="text-2xl">üì±</span>
                            <span>‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</span>
                        </label>
                    </div>
                </div>

                <!-- Submit Button -->
                <button onclick="submitOrder()" class="w-full bg-green-500 text-white py-4 rounded-xl hover:bg-green-600 transition-colors font-semibold text-lg">
                    ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
                </button>
            </div>
        </div>
    </div>

    <!-- Menu Modal -->
    <div id="menuModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h2 class="text-xl font-bold text-gray-800" id="menuModalTitle">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡∏°‡πà</h2>
                    <button onclick="closeMenuModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                </div>
            </div>
            
            <div class="p-6">
                <form id="menuForm" class="space-y-4 max-h-[60vh] overflow-y-auto">
                    <input type="hidden" id="editMenuId">
                    
                    <div>
                        <label class="block text-gray-700 font-semibold mb-2">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π</label>
                        <input type="text" id="menuName" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡∏∏‡∏î‡∏™‡∏∏‡∏Å‡∏µ‡πâ‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ" required>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-semibold mb-2">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</label>
                        <textarea id="menuDescription" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none" rows="2" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£"></textarea>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</label>
                            <input type="number" id="menuPrice" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none" placeholder="0" min="0" required>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö</label>
                            <input type="text" id="menuServings" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none" placeholder="‡πÄ‡∏ä‡πà‡∏ô 4-6 ‡∏Ñ‡∏ô" required>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-semibold mb-2">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥</label>
                        <input type="text" id="menuCookingTime" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-blue-400 focus:outline-none" placeholder="‡πÄ‡∏ä‡πà‡∏ô 15 ‡∏ô‡∏≤‡∏ó‡∏µ" required>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-semibold mb-2">üì∑ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏´‡∏≤‡∏£</label>
                        <div class="border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors">
                            <input type="file" id="menuImage" accept="image/*" class="hidden" onchange="handleImageUpload(event)">
                            <div id="imagePreview" class="hidden">
                                <img id="previewImg" src="" alt="Preview" class="w-full h-48 object-cover rounded-lg mb-3">
                                <button type="button" onclick="removeImage()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 text-sm">
                                    üóëÔ∏è ‡∏•‡∏ö‡∏£‡∏π‡∏õ
                                </button>
                            </div>
                            <div id="uploadPrompt">
                                <div class="text-4xl mb-2">üì∑</div>
                                <p class="text-gray-600 mb-2">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</p>
                                <button type="button" onclick="document.getElementById('menuImage').click()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
                                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ
                                </button>
                                <p class="text-xs text-gray-500 mt-2">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö JPG, PNG, GIF (‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB)</p>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-semibold mb-2">üõí ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°</label>
                        <div id="ingredientsList" class="space-y-2 mb-3">
                            <!-- ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                        </div>
                        <div class="flex space-x-2">
                            <input type="text" id="newIngredient" class="flex-1 p-2 border-2 border-gray-200 rounded-lg focus:border-blue-400 focus:outline-none" placeholder="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π‡∏™‡πÑ‡∏•‡∏ã‡πå 300g">
                            <button type="button" onclick="addIngredient()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-semibold mb-2">üë®‚Äçüç≥ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥</label>
                        <div id="instructionsList" class="space-y-2 mb-3">
                            <!-- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                        </div>
                        <div class="flex space-x-2">
                            <input type="text" id="newInstruction" class="flex-1 p-2 border-2 border-gray-200 rounded-lg focus:border-blue-400 focus:outline-none" placeholder="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô 30 ‡∏ô‡∏≤‡∏ó‡∏µ">
                            <button type="button" onclick="addInstruction()" class="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 pt-4">
                        <button type="button" onclick="saveMenu()" class="flex-1 bg-green-500 text-white py-3 rounded-xl hover:bg-green-600 transition-colors font-semibold">
                            üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                        </button>
                        <button type="button" onclick="closeMenuModal()" class="flex-1 bg-gray-500 text-white py-3 rounded-xl hover:bg-gray-600 transition-colors font-semibold">
                            ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Order Status Modal -->
    <div id="orderStatusModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-lg w-full bounce-in">
            <div class="p-6 text-center">
                <div class="text-6xl mb-4">üéâ</div>
                <h2 class="text-2xl font-bold text-green-600 mb-2">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
                <p class="text-gray-600 mb-4">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                <div class="text-3xl font-bold text-blue-600 mb-6" id="orderNumber">#12345</div>
                
                <div class="bg-gray-50 rounded-xl p-4 mb-6">
                    <div class="flex items-center justify-center space-x-2 mb-2">
                        <div id="statusIcon" class="text-2xl">‚è≥</div>
                        <span id="statusText" class="font-semibold">‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</span>
                    </div>
                    <div class="text-sm text-gray-600" id="statusDescription">‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</div>
                </div>
                
                <div class="space-y-3">
                    <button onclick="closeOrderStatus()" class="w-full bg-blue-500 text-white py-3 rounded-xl hover:bg-blue-600 transition-colors font-semibold">
                        ‚úÖ ‡∏ï‡∏Å‡∏•‡∏á
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- My Orders Modal -->
    <div id="myOrdersModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-gray-800">üìã ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h2>
                    <button onclick="closeMyOrders()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                </div>
            </div>
            
            <div class="p-6">
                <div id="myOrdersList" class="space-y-4">
                    <!-- ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                
                <div id="noMyOrders" class="text-center py-12">
                    <div class="text-6xl mb-4">üìã</div>
                    <p class="text-gray-500 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</p>
                    <p class="text-gray-400 text-sm mt-2">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Menu Detail Modal -->
    <div id="menuDetailModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-gray-800" id="menuDetailTitle">üìñ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h2>
                    <button onclick="closeMenuDetail()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                </div>
            </div>
            
            <div class="p-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Left Column -->
                    <div>
                        <img id="menuDetailImage" src="" alt="" class="w-full h-64 object-cover rounded-xl mb-6">
                        
                        <div class="bg-green-50 rounded-xl p-4 mb-6">
                            <h3 class="text-lg font-bold text-green-800 mb-3">üìù ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏ô‡∏π</h3>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-green-600">üë• ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:</span>
                                    <span id="menuDetailServings" class="font-semibold"></span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-green-600">‚è±Ô∏è ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥:</span>
                                    <span id="menuDetailTime" class="font-semibold"></span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-green-600">üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤:</span>
                                    <span id="menuDetailPrice" class="font-semibold text-green-600"></span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50 rounded-xl p-4">
                            <h3 class="text-lg font-bold text-blue-800 mb-3">üõí ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°</h3>
                            <ul id="menuDetailIngredients" class="space-y-2 text-sm">
                                <!-- ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div>
                        <div class="bg-orange-50 rounded-xl p-4 mb-6">
                            <h3 class="text-lg font-bold text-orange-800 mb-3">üë®‚Äçüç≥ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥</h3>
                            <ol id="menuDetailInstructions" class="space-y-3 text-sm">
                                <!-- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                            </ol>
                        </div>
                        
                        <div class="bg-purple-50 rounded-xl p-4 mb-6">
                            <h3 class="text-lg font-bold text-purple-800 mb-3">üí° ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö</h3>
                            <div class="text-sm text-purple-700 space-y-2">
                                <p>‚Ä¢ ‡∏ô‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ 15-30 ‡∏ô‡∏≤‡∏ó‡∏µ</p>
                                <p>‚Ä¢ ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏∏‡∏Å‡∏ó‡∏±‡πà‡∏ß</p>
                                <p>‚Ä¢ ‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÉ‡∏ô‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô‡πÑ‡∏î‡πâ 2-3 ‡∏ß‡∏±‡∏ô</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between bg-gray-50 rounded-xl p-4">
                            <div class="flex items-center space-x-3">
                                <button onclick="updateMenuQuantityInModal(-1)" class="bg-gray-200 text-gray-700 w-10 h-10 rounded-full hover:bg-gray-300 font-bold">-</button>
                                <span id="modalQuantity" class="font-bold text-lg min-w-[2rem] text-center">1</span>
                                <button onclick="updateMenuQuantityInModal(1)" class="bg-gray-200 text-gray-700 w-10 h-10 rounded-full hover:bg-gray-300 font-bold">+</button>
                            </div>
                            <button onclick="orderFromModal()" class="bg-green-500 text-white px-8 py-3 rounded-lg hover:bg-green-600 transition-colors font-semibold">
                                üõí ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏•‡∏¢
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notification" class="fixed top-4 right-4 z-60 hidden">
        <div class="bg-white border-l-4 border-blue-500 rounded-lg shadow-lg p-4 max-w-sm notification-toast">
            <div class="flex items-center">
                <div class="text-2xl mr-3" id="notificationIcon">üîî</div>
                <div>
                    <div class="font-semibold text-gray-800" id="notificationTitle">‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>
                    <div class="text-gray-600 text-sm" id="notificationMessage">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö
        let systemData = {
            restaurant: {
                name: 'FrozenChef'
            },
            menu: [
                {
                    id: '1',
                    name: '‡∏ä‡∏∏‡∏î‡∏™‡∏∏‡∏Å‡∏µ‡πâ‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ',
                    description: '‡∏ä‡∏∏‡∏î‡∏™‡∏∏‡∏Å‡∏µ‡πâ‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 4-6 ‡∏Ñ‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ó‡∏≥',
                    price: 450,
                    servings: '4-6 ‡∏Ñ‡∏ô',
                    cookingTime: '15 ‡∏ô‡∏≤‡∏ó‡∏µ',
                    ingredients: [
                        '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π‡∏™‡πÑ‡∏•‡∏ã‡πå 300g',
                        '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ß‡∏±‡∏ß‡∏™‡πÑ‡∏•‡∏ã‡πå 200g', 
                        '‡∏Å‡∏∏‡πâ‡∏á‡∏™‡∏î 200g',
                        '‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏™ 2 ‡∏´‡πà‡∏≠',
                        '‡∏ú‡∏±‡∏Å‡∏£‡∏ß‡∏° 500g',
                        '‡∏ô‡πâ‡∏≥‡∏à‡∏¥‡πâ‡∏°‡∏™‡∏∏‡∏Å‡∏µ‡πâ 2 ‡∏Ç‡∏ß‡∏î'
                    ],
                    instructions: [
                        '‡∏ô‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô 30 ‡∏ô‡∏≤‡∏ó‡∏µ',
                        '‡∏ï‡πâ‡∏°‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏´‡∏°‡πâ‡∏≠‡∏™‡∏∏‡∏Å‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏î‡∏∑‡∏≠‡∏î',
                        '‡πÉ‡∏™‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏•‡∏á‡∏ï‡πâ‡∏°‡∏Å‡πà‡∏≠‡∏ô 3-5 ‡∏ô‡∏≤‡∏ó‡∏µ',
                        '‡πÉ‡∏™‡πà‡∏ú‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏™ ‡∏ï‡πâ‡∏°‡∏≠‡∏µ‡∏Å 2-3 ‡∏ô‡∏≤‡∏ó‡∏µ',
                        '‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ô‡πâ‡∏≥‡∏à‡∏¥‡πâ‡∏°‡∏™‡∏∏‡∏Å‡∏µ‡πâ'
                    ],
                    image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRkY2QjM1IiByeD0iMTAiLz4KPHN2ZyB4PSI3NSIgeT0iNzUiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCI+Cjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LXNpemU9IjMwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImNlbnRyYWwiPvCfjaI8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K',
                    createdAt: new Date().toISOString()
                },
                {
                    id: '2',
                    name: '‡∏ä‡∏∏‡∏î‡∏ö‡∏≤‡∏£‡πå‡∏ö‡∏µ‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ',
                    description: '‡∏ä‡∏∏‡∏î‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 2-3 ‡∏Ñ‡∏ô',
                    price: 350,
                    servings: '2-3 ‡∏Ñ‡∏ô',
                    cookingTime: '20 ‡∏ô‡∏≤‡∏ó‡∏µ',
                    ingredients: [
                        '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ß‡∏±‡∏ß‡∏´‡∏°‡∏±‡∏Å‡∏ã‡∏≠‡∏™ 400g',
                        '‡∏´‡∏°‡∏π‡∏™‡∏≤‡∏°‡∏ä‡∏±‡πâ‡∏ô‡∏´‡∏°‡∏±‡∏Å 300g',
                        '‡∏ú‡∏±‡∏Å‡∏™‡∏•‡∏±‡∏î‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ 200g',
                        '‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏ß‡∏¢ 3 ‡∏ñ‡πâ‡∏ß‡∏¢',
                        '‡∏ã‡∏≠‡∏™‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ 2 ‡∏Ç‡∏ß‡∏î',
                        '‡∏Å‡∏¥‡∏°‡∏à‡∏¥ 1 ‡∏ñ‡πâ‡∏ß‡∏¢'
                    ],
                    instructions: [
                        '‡∏ô‡∏≥‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô 20 ‡∏ô‡∏≤‡∏ó‡∏µ',
                        '‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ï‡∏≤‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏ó‡∏∞‡πÉ‡∏´‡πâ‡∏£‡πâ‡∏≠‡∏ô',
                        '‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ß‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏π 3-4 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏î‡πâ‡∏≤‡∏ô',
                        '‡∏à‡∏±‡∏î‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏ß‡∏¢‡πÅ‡∏•‡∏∞‡∏ú‡∏±‡∏Å',
                        '‡∏ó‡∏≤‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ã‡∏≠‡∏™‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏°‡∏à‡∏¥'
                    ],
                    image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRUY0NDQ0IiByeD0iMTAiLz4KPHN2ZyB4PSI3NSIgeT0iNzUiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCI+Cjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LXNpemU9IjMwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImNlbnRyYWwiPvCfpJY8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K',
                    createdAt: new Date().toISOString()
                },
                {
                    id: '3',
                    name: '‡∏ä‡∏∏‡∏î‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡πÇ‡∏Æ‡∏°‡πÄ‡∏°‡∏î',
                    description: '‡∏ä‡∏∏‡∏î‡∏ó‡∏≥‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 3-4 ‡∏Ñ‡∏ô',
                    price: 280,
                    servings: '3-4 ‡∏Ñ‡∏ô',
                    cookingTime: '25 ‡∏ô‡∏≤‡∏ó‡∏µ',
                    ingredients: [
                        '‡πÅ‡∏õ‡πâ‡∏á‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥ 2 ‡πÅ‡∏ú‡πà‡∏ô',
                        '‡∏ã‡∏≠‡∏™‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏® 1 ‡∏Ç‡∏ß‡∏î',
                        '‡∏ä‡∏µ‡∏™‡∏°‡∏≠‡∏ã‡∏ã‡∏≤‡πÄ‡∏£‡∏•‡∏•‡πà‡∏≤ 200g',
                        '‡πÄ‡∏õ‡∏õ‡πÄ‡∏õ‡∏≠‡πÇ‡∏£‡∏ô‡∏µ 100g',
                        '‡πÄ‡∏´‡πá‡∏î‡∏™‡πÑ‡∏•‡∏ã‡πå 100g',
                        '‡∏û‡∏£‡∏¥‡∏Å‡∏´‡∏¢‡∏ß‡∏Å‡∏™‡∏µ 100g'
                    ],
                    instructions: [
                        '‡∏≠‡∏∏‡πà‡∏ô‡πÄ‡∏ï‡∏≤‡∏≠‡∏ö‡∏ó‡∏µ‡πà 200¬∞C',
                        '‡∏ô‡∏≥‡πÅ‡∏õ‡πâ‡∏á‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô',
                        '‡∏ó‡∏≤‡∏ã‡∏≠‡∏™‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®‡∏ö‡∏ô‡πÅ‡∏õ‡πâ‡∏á',
                        '‡πÇ‡∏£‡∏¢‡∏ä‡∏µ‡∏™‡πÅ‡∏•‡∏∞‡πÉ‡∏™‡πà‡∏ó‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á',
                        '‡∏≠‡∏ö 15-18 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏à‡∏ô‡∏ä‡∏µ‡∏™‡∏•‡∏∞‡∏•‡∏≤‡∏¢'
                    ],
                    image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRkZCRjAwIiByeD0iMTAiLz4KPHN2ZyB4PSI3NSIgeT0iNzUiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCI+Cjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LXNpemU9IjMwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImNlbnRyYWwiPvCfjZU8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K',
                    createdAt: new Date().toISOString()
                }
            ],
            orders: [],
            currentUser: null,
            menuQuantities: {},
            tempOrderItems: []
        };

        // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å localStorage
        function loadData() {
            const saved = localStorage.getItem('foodOrderSystem');
            if (saved) {
                try {
                    const data = JSON.parse(saved);
                    systemData = { ...systemData, ...data };
                } catch (e) {
                    console.log('Error loading data:', e);
                }
            }
        }

        // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á localStorage
        function saveData() {
            try {
                localStorage.setItem('foodOrderSystem', JSON.stringify(systemData));
            } catch (e) {
                console.log('Error saving data:', e);
            }
        }

        // Login Functions
        function loginAsCustomer() {
            systemData.currentUser = 'customer';
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('customerInterface').classList.remove('hidden');
            updateCustomerUI();
            showNotification('üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö!', '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        }

        function loginAsOwner() {
            const password = document.getElementById('ownerPassword').value;
            if (password === '1234') {
                systemData.currentUser = 'owner';
                document.getElementById('loginModal').classList.add('hidden');
                document.getElementById('ownerInterface').classList.remove('hidden');
                updateOwnerUI();
                showNotification('üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö!', '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
            } else {
                showNotification('‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
            }
        }

        function logout() {
            systemData.currentUser = null;
            document.getElementById('ownerInterface').classList.add('hidden');
            document.getElementById('customerInterface').classList.add('hidden');
            document.getElementById('loginModal').classList.remove('hidden');
            document.getElementById('ownerPassword').value = '';
        }

        // Customer UI Functions
        function updateCustomerUI() {
            document.getElementById('customerRestaurantName').textContent = systemData.restaurant.name;
            updateCustomerMenu();
            updateMyOrdersBadge();
        }

        function updateCustomerMenu() {
            const menuList = document.getElementById('customerMenuList');
            const noMenu = document.getElementById('noMenuCustomer');
            
            if (systemData.menu.length === 0) {
                menuList.style.display = 'none';
                noMenu.style.display = 'block';
            } else {
                menuList.style.display = 'grid';
                noMenu.style.display = 'none';
                
                menuList.innerHTML = systemData.menu.map(item => `
                    <div class="menu-item bg-white rounded-xl shadow-lg overflow-hidden">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-3">
                                <h3 class="text-xl font-bold">${item.name}</h3>
                                <span class="text-2xl font-bold text-green-600">${item.price.toLocaleString()} ‡∏ø</span>
                            </div>
                            <p class="text-gray-600 mb-3">${item.description}</p>
                            
                            <div class="bg-blue-50 rounded-lg p-3 mb-4">
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="text-blue-600">üë• ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:</span>
                                    <span class="font-semibold">${item.servings}</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-blue-600">‚è±Ô∏è ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥:</span>
                                    <span class="font-semibold">${item.cookingTime}</span>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center space-x-3">
                                    <button onclick="updateMenuQuantity('${item.id}', -1)" class="bg-gray-200 text-gray-700 w-10 h-10 rounded-full hover:bg-gray-300 font-bold">-</button>
                                    <span id="quantity-${item.id}" class="font-bold text-lg min-w-[2rem] text-center">${systemData.menuQuantities[item.id] || 1}</span>
                                    <button onclick="updateMenuQuantity('${item.id}', 1)" class="bg-gray-200 text-gray-700 w-10 h-10 rounded-full hover:bg-gray-300 font-bold">+</button>
                                </div>
                                <button onclick="showMenuDetail('${item.id}')" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm">
                                    üìñ ‡∏î‡∏π‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠
                                </button>
                            </div>
                            
                            <button onclick="orderDirectly('${item.id}')" class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition-colors font-semibold">
                                üõí ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏•‡∏¢
                            </button>
                        </div>
                    </div>
                `).join('');
            }
        }

        function updateMenuQuantity(menuId, change) {
            if (!systemData.menuQuantities[menuId]) {
                systemData.menuQuantities[menuId] = 1;
            }
            
            systemData.menuQuantities[menuId] += change;
            
            if (systemData.menuQuantities[menuId] < 1) {
                systemData.menuQuantities[menuId] = 1;
            }
            
            if (systemData.menuQuantities[menuId] > 99) {
                systemData.menuQuantities[menuId] = 99;
            }
            
            document.getElementById(`quantity-${menuId}`).textContent = systemData.menuQuantities[menuId];
            saveData();
        }

        function orderDirectly(menuId) {
            const menu = systemData.menu.find(m => m.id === menuId);
            if (!menu) return;
            
            const quantity = systemData.menuQuantities[menuId] || 1;
            
            const orderItems = [{
                id: menuId,
                name: menu.name,
                price: menu.price,
                image: menu.image,
                quantity: quantity
            }];
            
            openDirectOrderModal(orderItems);
        }

        function openDirectOrderModal(items) {
            const checkoutItems = document.getElementById('checkoutItems');
            const checkoutTotal = document.getElementById('checkoutTotal');
            
            const totalPrice = items.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            checkoutItems.innerHTML = items.map(item => `
                <div class="flex justify-between items-center">
                    <span>${item.name} x${item.quantity}</span>
                    <span class="font-semibold">${(item.price * item.quantity).toLocaleString()} ‡∏ø</span>
                </div>
            `).join('');
            
            checkoutTotal.textContent = totalPrice.toLocaleString() + ' ‡∏ø';
            
            systemData.tempOrderItems = items;
            
            document.getElementById('checkoutModal').classList.remove('hidden');
        }

        function closeCheckout() {
            document.getElementById('checkoutModal').classList.add('hidden');
        }

        function submitOrder() {
            const customerName = document.getElementById('customerName').value.trim();
            const customerPhone = document.getElementById('customerPhone').value.trim();
            const customerAddress = document.getElementById('customerAddress').value.trim();
            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked');
            
            if (!customerName || !customerPhone || !customerAddress || !paymentMethod) {
                showNotification('‚ö†Ô∏è ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô');
                return;
            }
            
            if (!systemData.tempOrderItems || systemData.tempOrderItems.length === 0) {
                showNotification('‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô');
                return;
            }
            
            const orderId = Date.now().toString();
            const totalPrice = systemData.tempOrderItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            const newOrder = {
                id: orderId,
                customerName,
                customerPhone,
                customerAddress,
                items: [...systemData.tempOrderItems],
                total: totalPrice,
                paymentMethod: paymentMethod.value,
                status: 'pending',
                timestamp: new Date().toISOString(),
                customerId: 'customer_' + Date.now()
            };
            
            systemData.orders.push(newOrder);
            
            systemData.tempOrderItems.forEach(item => {
                systemData.menuQuantities[item.id] = 1;
            });
            systemData.tempOrderItems = [];
            
            saveData();
            closeCheckout();
            showOrderStatus(newOrder);
            updateCustomerUI();
            
            if (systemData.currentUser === 'owner') {
                updateOwnerUI();
            }
        }

        function showOrderStatus(order) {
            document.getElementById('orderNumber').textContent = '#' + order.id;
            updateOrderStatusDisplay(order.status);
            document.getElementById('orderStatusModal').classList.remove('hidden');
        }

        function updateOrderStatusDisplay(status) {
            const statusIcon = document.getElementById('statusIcon');
            const statusText = document.getElementById('statusText');
            const statusDescription = document.getElementById('statusDescription');
            
            switch (status) {
                case 'pending':
                    statusIcon.textContent = '‚è≥';
                    statusText.textContent = '‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£';
                    statusDescription.textContent = '‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì';
                    break;
                case 'preparing':
                    statusIcon.textContent = 'üë®‚Äçüç≥';
                    statusText.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥';
                    statusDescription.textContent = '‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì';
                    break;
                case 'delivering':
                    statusIcon.textContent = 'üöö';
                    statusText.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á';
                    statusDescription.textContent = '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì';
                    break;
                case 'completed':
                    statusIcon.textContent = '‚úÖ';
                    statusText.textContent = '‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß';
                    statusDescription.textContent = '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß';
                    break;
            }
        }

        function closeOrderStatus() {
            document.getElementById('orderStatusModal').classList.add('hidden');
        }

        function showMyOrders() {
            const customerOrders = systemData.orders.filter(order => 
                order.customerId && order.customerId.startsWith('customer_')
            );
            
            const myOrdersList = document.getElementById('myOrdersList');
            const noMyOrders = document.getElementById('noMyOrders');
            
            if (customerOrders.length === 0) {
                myOrdersList.style.display = 'none';
                noMyOrders.style.display = 'block';
            } else {
                myOrdersList.style.display = 'block';
                noMyOrders.style.display = 'none';
                
                myOrdersList.innerHTML = customerOrders.map(order => `
                    <div class="order-card bg-white border-2 border-gray-200 rounded-xl p-6 ${order.status}">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="text-xl font-bold">‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå #${order.id}</h3>
                                <p class="text-gray-600">${new Date(order.timestamp).toLocaleString('th-TH')}</p>
                            </div>
                            <div class="text-right">
                                <div class="text-2xl font-bold text-green-600">${order.total.toLocaleString()} ‡∏ø</div>
                                <div class="status-${order.status} text-white px-3 py-1 rounded-full text-sm font-semibold inline-block">
                                    ${getStatusText(order.status)}
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <h4 class="font-semibold mb-2">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£:</h4>
                            <div class="space-y-1">
                                ${order.items.map(item => `
                                    <div class="flex justify-between text-sm">
                                        <span>${item.name} x${item.quantity}</span>
                                        <span>${(item.price * item.quantity).toLocaleString()} ‡∏ø</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="text-sm text-gray-600 mb-4">
                            <p><strong>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà:</strong> ${order.customerAddress}</p>
                            <p><strong>‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô:</strong> ${order.paymentMethod === 'cash' ? '‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á' : '‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô'}</p>
                        </div>
                        
                        ${order.status !== 'completed' ? `
                            <button onclick="cancelOrder('${order.id}')" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">
                                ‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
                            </button>
                        ` : ''}
                    </div>
                `).join('');
            }
            
            document.getElementById('myOrdersModal').classList.remove('hidden');
        }

        function getStatusText(status) {
            switch (status) {
                case 'pending': return '‚è≥ ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£';
                case 'preparing': return 'üë®‚Äçüç≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥';
                case 'delivering': return 'üöö ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á';
                case 'completed': return '‚úÖ ‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß';
                default: return status;
            }
        }

        function updateMyOrdersBadge() {
            const customerOrders = systemData.orders.filter(order => 
                order.customerId && order.customerId.startsWith('customer_')
            );
            
            const badge = document.getElementById('myOrdersBadge');
            if (customerOrders.length > 0) {
                badge.textContent = customerOrders.length;
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
        }

        function cancelOrder(orderId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                const orderIndex = systemData.orders.findIndex(o => o.id === orderId);
                if (orderIndex !== -1) {
                    systemData.orders.splice(orderIndex, 1);
                    saveData();
                    showMyOrders();
                    updateMyOrdersBadge();
                    showNotification('‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå', '‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÅ‡∏•‡πâ‡∏ß');
                    
                    if (systemData.currentUser === 'owner') {
                        updateOwnerUI();
                    }
                }
            }
        }

        function closeMyOrders() {
            document.getElementById('myOrdersModal').classList.add('hidden');
        }

        // Menu Detail Functions
        let currentDetailMenuId = null;

        function showMenuDetail(menuId) {
            const menu = systemData.menu.find(m => m.id === menuId);
            if (!menu) return;
            
            currentDetailMenuId = menuId;
            
            document.getElementById('menuDetailTitle').textContent = `üìñ ${menu.name} - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£`;
            document.getElementById('menuDetailImage').src = menu.image;
            document.getElementById('menuDetailImage').alt = menu.name;
            document.getElementById('menuDetailServings').textContent = menu.servings;
            document.getElementById('menuDetailTime').textContent = menu.cookingTime;
            document.getElementById('menuDetailPrice').textContent = menu.price.toLocaleString() + ' ‡∏ø';
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö
            const ingredientsList = document.getElementById('menuDetailIngredients');
            ingredientsList.innerHTML = menu.ingredients.map(ingredient => `
                <li class="flex items-center space-x-2">
                    <span class="w-2 h-2 bg-blue-400 rounded-full"></span>
                    <span>${ingredient}</span>
                </li>
            `).join('');
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
            const instructionsList = document.getElementById('menuDetailInstructions');
            instructionsList.innerHTML = menu.instructions.map((instruction, index) => `
                <li class="flex items-start space-x-3">
                    <span class="bg-orange-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5">${index + 1}</span>
                    <span>${instruction}</span>
                </li>
            `).join('');
            
            // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≥‡∏ô‡∏ß‡∏ô
            const currentQuantity = systemData.menuQuantities[menuId] || 1;
            document.getElementById('modalQuantity').textContent = currentQuantity;
            
            document.getElementById('menuDetailModal').classList.remove('hidden');
        }

        function closeMenuDetail() {
            document.getElementById('menuDetailModal').classList.add('hidden');
            currentDetailMenuId = null;
        }

        function updateMenuQuantityInModal(change) {
            if (!currentDetailMenuId) return;
            
            if (!systemData.menuQuantities[currentDetailMenuId]) {
                systemData.menuQuantities[currentDetailMenuId] = 1;
            }
            
            systemData.menuQuantities[currentDetailMenuId] += change;
            
            if (systemData.menuQuantities[currentDetailMenuId] < 1) {
                systemData.menuQuantities[currentDetailMenuId] = 1;
            }
            
            if (systemData.menuQuantities[currentDetailMenuId] > 99) {
                systemData.menuQuantities[currentDetailMenuId] = 99;
            }
            
            document.getElementById('modalQuantity').textContent = systemData.menuQuantities[currentDetailMenuId];
            
            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏î‡πâ‡∏ß‡∏¢
            const mainQuantityElement = document.getElementById(`quantity-${currentDetailMenuId}`);
            if (mainQuantityElement) {
                mainQuantityElement.textContent = systemData.menuQuantities[currentDetailMenuId];
            }
            
            saveData();
        }

        function orderFromModal() {
            if (!currentDetailMenuId) return;
            
            closeMenuDetail();
            orderDirectly(currentDetailMenuId);
        }

        // Menu Form Functions
        let tempIngredients = [];
        let tempInstructions = [];
        let tempImageData = null;

        function addIngredient() {
            const input = document.getElementById('newIngredient');
            const ingredient = input.value.trim();
            
            if (ingredient) {
                tempIngredients.push(ingredient);
                input.value = '';
                updateIngredientsList();
            }
        }

        function removeIngredient(index) {
            tempIngredients.splice(index, 1);
            updateIngredientsList();
        }

        function updateIngredientsList() {
            const list = document.getElementById('ingredientsList');
            list.innerHTML = tempIngredients.map((ingredient, index) => `
                <div class="flex items-center justify-between bg-blue-50 p-2 rounded-lg">
                    <span class="text-sm">${ingredient}</span>
                    <button type="button" onclick="removeIngredient(${index})" class="text-red-500 hover:text-red-700 text-sm">‡∏•‡∏ö</button>
                </div>
            `).join('');
        }

        function addInstruction() {
            const input = document.getElementById('newInstruction');
            const instruction = input.value.trim();
            
            if (instruction) {
                tempInstructions.push(instruction);
                input.value = '';
                updateInstructionsList();
            }
        }

        function removeInstruction(index) {
            tempInstructions.splice(index, 1);
            updateInstructionsList();
        }

        function updateInstructionsList() {
            const list = document.getElementById('instructionsList');
            list.innerHTML = tempInstructions.map((instruction, index) => `
                <div class="flex items-center justify-between bg-orange-50 p-2 rounded-lg">
                    <span class="text-sm">${index + 1}. ${instruction}</span>
                    <button type="button" onclick="removeInstruction(${index})" class="text-red-500 hover:text-red-700 text-sm">‡∏•‡∏ö</button>
                </div>
            `).join('');
        }

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå (5MB)
            if (file.size > 5 * 1024 * 1024) {
                showNotification('‚ö†Ô∏è ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB');
                event.target.value = '';
                return;
            }
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏ü‡∏•‡πå
            if (!file.type.startsWith('image/')) {
                showNotification('‚ö†Ô∏è ‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô');
                event.target.value = '';
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                tempImageData = e.target.result;
                showImagePreview(tempImageData);
            };
            reader.readAsDataURL(file);
        }

        function showImagePreview(imageSrc) {
            document.getElementById('previewImg').src = imageSrc;
            document.getElementById('imagePreview').classList.remove('hidden');
            document.getElementById('uploadPrompt').classList.add('hidden');
        }

        function removeImage() {
            tempImageData = null;
            document.getElementById('menuImage').value = '';
            document.getElementById('imagePreview').classList.add('hidden');
            document.getElementById('uploadPrompt').classList.remove('hidden');
        }

        function resetImageUpload() {
            tempImageData = null;
            document.getElementById('menuImage').value = '';
            document.getElementById('imagePreview').classList.add('hidden');
            document.getElementById('uploadPrompt').classList.remove('hidden');
        }

        // Owner UI Functions
        function updateOwnerUI() {
            document.getElementById('ownerRestaurantName').textContent = systemData.restaurant.name;
            document.getElementById('restaurantNameInput').value = systemData.restaurant.name;
            updateOwnerStats();
            updateOwnerOrders();
            updateOwnerMenu();
        }

        function updateOwnerStats() {
            const pendingCount = systemData.orders.filter(o => o.status === 'pending').length;
            const completedToday = systemData.orders.filter(o => 
                o.status === 'completed' && 
                new Date(o.timestamp).toDateString() === new Date().toDateString()
            );
            
            const todaySales = completedToday.reduce((sum, order) => sum + order.total, 0);
            
            document.getElementById('todaySales').textContent = todaySales.toLocaleString() + ' ‡∏ø';
            document.getElementById('todayOrders').textContent = completedToday.length;
            document.getElementById('pendingOrders').textContent = pendingCount;
            document.getElementById('totalMenuItems').textContent = systemData.menu.length;
            document.getElementById('orderCount').textContent = systemData.orders.length;
        }

        function updateOwnerOrders() {
            const ordersList = document.getElementById('ordersList');
            const noOrders = document.getElementById('noOrders');
            
            if (systemData.orders.length === 0) {
                ordersList.style.display = 'none';
                noOrders.style.display = 'block';
            } else {
                ordersList.style.display = 'block';
                noOrders.style.display = 'none';
                
                ordersList.innerHTML = systemData.orders.map(order => `
                    <div class="order-card bg-white border-2 border-gray-200 rounded-xl p-6 ${order.status}">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="text-xl font-bold">‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå #${order.id}</h3>
                                <p class="text-gray-600">${new Date(order.timestamp).toLocaleString('th-TH')}</p>
                            </div>
                            <div class="text-right">
                                <div class="text-2xl font-bold text-green-600">${order.total.toLocaleString()} ‡∏ø</div>
                                <div class="status-${order.status} text-white px-3 py-1 rounded-full text-sm font-semibold inline-block">
                                    ${getStatusText(order.status)}
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <h4 class="font-semibold mb-2">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£:</h4>
                            <div class="space-y-1">
                                ${order.items.map(item => `
                                    <div class="flex justify-between text-sm">
                                        <span>${item.name} x${item.quantity}</span>
                                        <span>${(item.price * item.quantity).toLocaleString()} ‡∏ø</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="text-sm text-gray-600 mb-4">
                            <p><strong>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:</strong> ${order.customerName}</p>
                            <p><strong>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£:</strong> ${order.customerPhone}</p>
                            <p><strong>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà:</strong> ${order.customerAddress}</p>
                            <p><strong>‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô:</strong> ${order.paymentMethod === 'cash' ? '‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á' : '‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô'}</p>
                        </div>
                        
                        <div class="flex space-x-2">
                            ${order.status === 'pending' ? `
                                <button onclick="updateOrderStatus('${order.id}', 'preparing')" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                                    üë®‚Äçüç≥ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥
                                </button>
                            ` : ''}
                            ${order.status === 'preparing' ? `
                                <button onclick="updateOrderStatus('${order.id}', 'delivering')" class="bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors">
                                    üöö ‡∏™‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£
                                </button>
                            ` : ''}
                            ${order.status === 'delivering' ? `
                                <button onclick="updateOrderStatus('${order.id}', 'completed')" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                                    ‚úÖ ‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
                                </button>
                            ` : ''}
                            <button onclick="deleteOrder('${order.id}')" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">
                                üóëÔ∏è ‡∏•‡∏ö
                            </button>
                        </div>
                    </div>
                `).join('');
            }
        }

        function updateOwnerMenu() {
            const menuList = document.getElementById('ownerMenuList');
            const noMenu = document.getElementById('noMenuOwner');
            
            if (systemData.menu.length === 0) {
                menuList.style.display = 'none';
                noMenu.style.display = 'block';
            } else {
                menuList.style.display = 'grid';
                noMenu.style.display = 'none';
                
                menuList.innerHTML = systemData.menu.map(item => `
                    <div class="menu-item bg-white rounded-xl shadow-lg overflow-hidden">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="text-xl font-bold mb-2">${item.name}</h3>
                            <p class="text-gray-600 mb-3">${item.description}</p>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-2xl font-bold text-green-600">${item.price.toLocaleString()} ‡∏ø</span>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="editMenu('${item.id}')" class="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors">
                                    ‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                                </button>
                                <button onclick="deleteMenu('${item.id}')" class="flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors">
                                    üóëÔ∏è ‡∏•‡∏ö
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        }

        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active', 'bg-blue-50', 'text-blue-600', 'border-b-2', 'border-blue-600');
                button.classList.add('text-gray-600', 'hover:bg-gray-50');
            });
            
            // Show selected tab content
            document.getElementById(tabName + 'Content').classList.remove('hidden');
            
            // Add active class to selected tab
            const activeTab = document.getElementById(tabName + 'Tab');
            activeTab.classList.add('active', 'bg-blue-50', 'text-blue-600', 'border-b-2', 'border-blue-600');
            activeTab.classList.remove('text-gray-600', 'hover:bg-gray-50');
        }

        function updateOrderStatus(orderId, newStatus) {
            const order = systemData.orders.find(o => o.id === orderId);
            if (order) {
                order.status = newStatus;
                saveData();
                updateOwnerUI();
                showNotification('‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞', `‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå #${orderId} ${getStatusText(newStatus)}`);
            }
        }

        function deleteOrder(orderId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                const orderIndex = systemData.orders.findIndex(o => o.id === orderId);
                if (orderIndex !== -1) {
                    systemData.orders.splice(orderIndex, 1);
                    saveData();
                    updateOwnerUI();
                    showNotification('üóëÔ∏è ‡∏•‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå', '‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡πÅ‡∏•‡πâ‡∏ß');
                }
            }
        }

        function openAddMenuModal() {
            try {
                document.getElementById('menuModalTitle').textContent = '‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡∏°‡πà';
                document.getElementById('editMenuId').value = '';
                
                // Clear form fields
                document.getElementById('menuName').value = '';
                document.getElementById('menuDescription').value = '';
                document.getElementById('menuPrice').value = '';
                document.getElementById('menuServings').value = '';
                document.getElementById('menuCookingTime').value = '';
                
                tempIngredients = [];
                tempInstructions = [];
                tempImageData = null;
                updateIngredientsList();
                updateInstructionsList();
                resetImageUpload();
                document.getElementById('menuModal').classList.remove('hidden');
            } catch (error) {
                console.error('Error opening menu modal:', error);
                showNotification('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏î‡πâ');
            }
        }

        function editMenu(menuId) {
            const menu = systemData.menu.find(m => m.id === menuId);
            if (menu) {
                document.getElementById('menuModalTitle').textContent = '‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏°‡∏ô‡∏π';
                document.getElementById('editMenuId').value = menuId;
                document.getElementById('menuName').value = menu.name;
                document.getElementById('menuDescription').value = menu.description;
                document.getElementById('menuPrice').value = menu.price;
                document.getElementById('menuServings').value = menu.servings || '';
                document.getElementById('menuCookingTime').value = menu.cookingTime || '';
                
                tempIngredients = [...(menu.ingredients || [])];
                tempInstructions = [...(menu.instructions || [])];
                tempImageData = menu.image || null;
                
                updateIngredientsList();
                updateInstructionsList();
                
                // ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
                if (tempImageData) {
                    showImagePreview(tempImageData);
                } else {
                    resetImageUpload();
                }
                
                document.getElementById('menuModal').classList.remove('hidden');
            }
        }

        function closeMenuModal() {
            document.getElementById('menuModal').classList.add('hidden');
        }

        function saveMenu() {
            const name = document.getElementById('menuName').value.trim();
            const description = document.getElementById('menuDescription').value.trim();
            const price = parseFloat(document.getElementById('menuPrice').value);
            const servings = document.getElementById('menuServings').value.trim();
            const cookingTime = document.getElementById('menuCookingTime').value.trim();
            const editId = document.getElementById('editMenuId').value;
            
            if (!name || !price || price <= 0 || !servings || !cookingTime) {
                showNotification('‚ö†Ô∏è ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô');
                return;
            }
            
            if (tempIngredients.length === 0) {
                showNotification('‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£');
                return;
            }
            
            if (tempInstructions.length === 0) {
                showNotification('‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô');
                return;
            }
            
            // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏π‡∏õ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
            const menuImage = tempImageData || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjNjM2NkYxIiByeD0iMTAiLz4KPHN2ZyB4PSI3NSIgeT0iNzUiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCI+Cjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LXNpemU9IjMwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImNlbnRyYWwiPvCfp4o8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K';
            
            if (editId) {
                // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏°‡∏ô‡∏π
                const menuIndex = systemData.menu.findIndex(m => m.id === editId);
                if (menuIndex !== -1) {
                    systemData.menu[menuIndex] = {
                        ...systemData.menu[menuIndex],
                        name,
                        description,
                        price,
                        servings,
                        cookingTime,
                        ingredients: [...tempIngredients],
                        instructions: [...tempInstructions],
                        image: menuImage
                    };
                    showNotification('‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏°‡∏ô‡∏π', '‡πÄ‡∏°‡∏ô‡∏π‡∏ñ‡∏π‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß');
                }
            } else {
                // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡∏°‡πà
                const newMenu = {
                    id: Date.now().toString(),
                    name,
                    description,
                    price,
                    servings,
                    cookingTime,
                    ingredients: [...tempIngredients],
                    instructions: [...tempInstructions],
                    image: menuImage,
                    createdAt: new Date().toISOString()
                };
                systemData.menu.push(newMenu);
                showNotification('‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π', '‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß');
            }
            
            saveData();
            closeMenuModal();
            updateOwnerUI();
            updateCustomerUI();
        }

        function deleteMenu(menuId) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                const menuIndex = systemData.menu.findIndex(m => m.id === menuId);
                if (menuIndex !== -1) {
                    systemData.menu.splice(menuIndex, 1);
                    saveData();
                    updateOwnerUI();
                    updateCustomerUI();
                    showNotification('üóëÔ∏è ‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π', '‡πÄ‡∏°‡∏ô‡∏π‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡πÅ‡∏•‡πâ‡∏ß');
                }
            }
        }

        function updateRestaurantSettings() {
            const name = document.getElementById('restaurantNameInput').value.trim();
            
            if (!name) {
                showNotification('‚ö†Ô∏è ‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô');
                return;
            }
            
            systemData.restaurant.name = name;
            saveData();
            updateOwnerUI();
            updateCustomerUI();
            showNotification('‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß', '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß');
        }

        // Notification function
        function showNotification(title, message) {
            document.getElementById('notificationTitle').textContent = title;
            document.getElementById('notificationMessage').textContent = message;
            document.getElementById('notification').classList.remove('hidden');
            
            setTimeout(() => {
                document.getElementById('notification').classList.add('hidden');
            }, 3000);
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97f72f80f1689e1e',t:'MTc1NzkyOTQ2Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
